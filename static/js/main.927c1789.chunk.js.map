{"version":3,"sources":["InitialState.js","redux/actions/index.js","components/BezierCurve.js","components/DraggableForeignObject.js","components/HTMLNode.js","components/InOutNode.js","components/GraphicsAreaPureHTML.js","components/CanvasDraw2D.js","components/TopBar.js","App.js","serviceWorker.js","index.js","redux/reducers/index.js"],"names":["InitialState","stressTest","someIndexes","Array","keys","someNodes","map","index","title","id","position","x","Math","cos","length","y","sin","width","inputPorts","name","type","outputPorts","someConnections","filter","a","from","nodeIndex","to","pureHTMLgraph","scale","activeDrags","deltaPosition","nodes","connections","textNode","height","text","imgNode","url","InitialStateStressTest","CHANGE_ZOOM","POSITION_NODE","POSITION_EVERY_OTHER_NODE","POSITION_TEXT_NODE","POSITION_IMG_NODE","TOGGLE_GRAPHICS","RESET_NORMAL","RESET_STRESS_TEST","CONNECT_PORTS","BezierCurve","nextProps","this","props","curveColor","curveWidth","start","end","c1","c2","curve","fill","stroke","strokeWidth","d","React","Component","DraggableForeignObject","onDrag","xmlns","children","key","className","cx","cy","r","style","opacity","rowHeight","portWidth","InPort","portIndex","onConnect","draggable","onDrop","e","payLoad","JSON","parse","dataTransfer","getData","console","log","outPortIndex","preventDefault","onDragOver","OutPort","onDragStart","payLoadString","stringify","setData","inPortRelativePosition","node","inPortIndex","outPortRelativePosition","InOutNode","handle","GraphicsAreaPureHTML","transform","top","left","fromNode","toNode","fromX","fromY","toX","toY","onSetImgNodePosition","borderStyle","userDrag","userSelect","MozUserSelect","WebkitUserDrag","WebkitUserSelect","msUserSelect","src","alt","onSetTextNodePosition","backgroundColor","htmlNode","HTMLNode","onSetPosition","connect","state","dispatch","positionEveryOtherNodeAction","positionNodeAction","positionTextNodeAction","positionImgNodeAction","fromNodeIndex","fromPortIndex","toNodeIndex","toPortIndex","connectPortsAction","window","jQuery","$","require","draw2d","CanvasDraw2D","renderCanvas","canvasId","canvas","Canvas","shape","Start","End","add","c","Connection","setRouter","layout","connection","SplineConnectionRouter","setSourceDecorator","decoration","BarDecorator","setTargetDecorator","DiamondDecorator","setSource","getOutputPort","setTarget","getInputPort","figure","analog","OpAmp","p1","basic","Polygon","p2","setBackgroundColor","setAlpha","setDimension","setCurrentSelection","Text","setText","lshape","Label","pie","diagram","Pie","setWidth","postit","note","PostIt","installEditor","ui","LabelInplaceEditor","setColor","setPadding","label","createConnection","sourcePort","targetPort","con","FanConnectionRouter","installEditPolicy","policy","WheelZoomPolicy","on","emitter","event","click","ev","clientX","clientY","io","json","Writer","marshal","fig","attr","svgs","push","setSVG","SVGFigure","wrapperStyle","margin","Handle","Slider","value","dragging","restProps","prefixCls","overlay","visible","placement","showControls","min","max","onChange","tagName","filename","exportFile","App","display","justifyContent","onClick","resetStateNormal","resetStateStressTest","toggleGraphicsLibrary","onZoomChange","percent","Boolean","location","hostname","match","store","createStore","newState","deltaX","deltaY","action","update","$set","updateObject","newValue","$push","composeWithDevTools","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.927c1789.chunk.js","sourcesContent":["function InitialStateStressTest() {\n  var someIndexes = [...Array(202).keys()];\n  var someNodes = someIndexes.map(index => {\n    return {\n      title: \"Add\",\n      id: 1000 + index,\n      position: {\n        x: 0 + 500 * Math.cos(((2 * 3.14) / someIndexes.length) * index),\n        y: 400 + 500 * Math.sin(((2 * 3.14) / someIndexes.length) * index)\n      },\n      width: 120,\n      inputPorts: [\n        { name: \"x\", type: \"int\" },\n        { name: \"y\", type: \"int\" }\n      ],\n      outputPorts: [{ name: \"sum\", type: \"int\" }]\n    };\n  });\n\n  var someConnections = someIndexes\n    .filter(a => a % 2 === 0)\n    .map(index => {\n      return {\n        from: {\n          nodeIndex: (index + someIndexes.length / 2 + 2) % someIndexes.length,\n          index: 0\n        },\n        to: {\n          nodeIndex: index,\n          index: 0\n        }\n      };\n    });\n\n  return {\n    pureHTMLgraph: true,\n    scale: 0.4,\n    stressTest: true,\n    activeDrags: 0,\n    deltaPosition: {\n      x: 0,\n      y: 0\n    },\n    nodes: [...someNodes],\n    connections: [...someConnections],\n    textNode: {\n      x: -500,\n      y: -350,\n      width: 200,\n      height: 400,\n      text: `Over hill, over dale, Thorough bush, thorough brier, Over park,\n            over pale, Thorough flood, thorough fire! I do wander everywhere,\n            Swifter than the moon's sphere; And I serve the Fairy Queen, To\n            dew her orbs upon the green; The cowslips tall her pensioners be;\n            In their gold coats spots you see; Those be rubies, fairy favours;\n            In those freckles live their savours; I must go seek some dewdrops\n            here, And hang a pearl in every cowslip's ear.`\n    },\n    imgNode: {\n      x: 50,\n      y: -350,\n      width: 400,\n      height: 300,\n      url: \"http://minerva-central.net/images/minerva-forward-m1.png\"\n    }\n  };\n}\n\nfunction InitialStateNormal() {\n  return {\n    pureHTMLgraph: true,\n    stressTest: false,\n    scale: 0.9,\n    activeDrags: 0,\n    deltaPosition: {\n      x: 0,\n      y: 0\n    },\n    nodes: [\n      {\n        title: \"Add\",\n        id: 213,\n        position: {\n          x: 186,\n          y: 7\n        },\n        width: 120,\n        inputPorts: [\n          { name: \"x\", type: \"int\" },\n          { name: \"y\", type: \"int\" }\n        ],\n        outputPorts: [{ name: \"sum\", type: \"int\" }]\n      },\n      {\n        title: \"Add\",\n        id: 214,\n        position: {\n          x: 421,\n          y: 123\n        },\n        width: 120,\n        inputPorts: [\n          { name: \"x\", type: \"int\" },\n          { name: \"y\", type: \"int\" }\n        ],\n        outputPorts: [{ name: \"sum\", type: \"int\" }]\n      },\n      {\n        title: \"Add\",\n        id: 215,\n        position: {\n          x: 85,\n          y: 200\n        },\n        width: 80,\n        inputPorts: [\n          { name: \"x\", type: \"int\" },\n          { name: \"y\", type: \"int\" }\n        ],\n        outputPorts: [{ name: \"sum\", type: \"int\" }]\n      },\n      {\n        title: \"Add\",\n        id: 216,\n        position: {\n          x: 86,\n          y: 106\n        },\n        width: 140,\n        inputPorts: [\n          { name: \"x\", type: \"int\" },\n          { name: \"y\", type: \"int\" }\n        ],\n        outputPorts: [{ name: \"sum\", type: \"int\" }]\n      },\n      {\n        title: \"Add\",\n        id: 217,\n        position: {\n          x: 421,\n          y: 7\n        },\n        width: 140,\n        inputPorts: [\n          { name: \"x\", type: \"int\" },\n          { name: \"y\", type: \"int\" }\n        ],\n        outputPorts: [{ name: \"sum\", type: \"int\" }]\n      },\n      {\n        title: \"Add\",\n        id: 217,\n        position: {\n          x: 421,\n          y: 250\n        },\n        width: 140,\n        inputPorts: [\n          { name: \"x\", type: \"int\" },\n          { name: \"y\", type: \"int\" }\n        ],\n        outputPorts: [{ name: \"sum\", type: \"int\" }]\n      }\n    ],\n    connections: [\n      {\n        from: {\n          nodeIndex: 0,\n          index: 0\n        },\n        to: {\n          nodeIndex: 1,\n          index: 0\n        }\n      },\n\n      {\n        from: {\n          nodeIndex: 3,\n          index: 0\n        },\n        to: {\n          nodeIndex: 1,\n          index: 0\n        }\n      }\n    ],\n    textNode: {\n      x: 500,\n      y: 350,\n      width: 200,\n      height: 400,\n      text: `Over hill, over dale, Thorough bush, thorough brier, Over park,\n            over pale, Thorough flood, thorough fire! I do wander everywhere,\n            Swifter than the moon's sphere; And I serve the Fairy Queen, To\n            dew her orbs upon the green; The cowslips tall her pensioners be;\n            In their gold coats spots you see; Those be rubies, fairy favours;\n            In those freckles live their savours; I must go seek some dewdrops\n            here, And hang a pearl in every cowslip's ear.`\n    },\n    imgNode: {\n      x: 50,\n      y: 350,\n      width: 400,\n      height: 300,\n      url: \"http://minerva-central.net/images/minerva-forward-m1.png\"\n    }\n  };\n}\n\nexport default function InitialState(stressTest) {\n  if (stressTest) {\n    return InitialStateStressTest();\n  } else {\n    return InitialStateNormal();\n  }\n}\n","export const CHANGE_ZOOM = \"CHANGE_ZOOM\";\nexport const POSITION_NODE = \"POSITION_NODE\";\nexport const POSITION_EVERY_OTHER_NODE = \"POSITION_EVERY_OTHER_NODE\";\nexport const POSITION_TEXT_NODE = \"POSITION_TEXT_NODE\";\nexport const POSITION_IMG_NODE = \"POSITION_IMG_NODE\";\nexport const TOGGLE_GRAPHICS = \"TOGGLE_GRAPHICS\";\nexport const RESET_NORMAL = \"RESET_NORMAL\";\nexport const RESET_STRESS_TEST = \"RESET_STRESS_TEST\";\nexport const CONNECT_PORTS = \"CONNECT_PORTS\";\n\nexport const zoomAction = percent => ({\n  type: CHANGE_ZOOM,\n  percent\n});\n\nexport const positionNodeAction = (index, position) => ({\n  type: POSITION_NODE,\n  index,\n  position\n});\n\nexport const positionEveryOtherNodeAction = (index, position) => ({\n  type: POSITION_EVERY_OTHER_NODE,\n  index,\n  position\n});\n\nexport const positionTextNodeAction = position => ({\n  type: POSITION_TEXT_NODE,\n  position\n});\n\nexport const positionImgNodeAction = position => ({\n  type: POSITION_IMG_NODE,\n  position\n});\n\nexport const toggleGraphicsLibraryAction = () => ({\n  type: TOGGLE_GRAPHICS\n});\n\nexport const resetStateNormalAction = () => ({\n  type: RESET_NORMAL\n});\n\nexport const resetStateStressTestAction = () => ({\n  type: RESET_STRESS_TEST\n});\n\nexport const connectPortsAction = (\n  fromNodeIndex,\n  fromPortIndex,\n  toNodeIndex,\n  toPortIndex\n) => ({\n  type: CONNECT_PORTS,\n  fromNodeIndex,\n  fromPortIndex,\n  toNodeIndex,\n  toPortIndex\n});\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nexport default class BezierCurve extends React.Component {\n  shouldComponentUpdate(nextProps) {\n    const { curveColor, curveWidth, start, end, c1, c2 } = this.props;\n    return (\n      nextProps.curveColor !== curveColor ||\n      nextProps.curveWidth !== curveWidth ||\n      nextProps.start.x !== start.x ||\n      nextProps.start.y !== start.y ||\n      nextProps.end.x !== end.x ||\n      nextProps.end.y !== end.y ||\n      nextProps.c1.x !== c1.x ||\n      nextProps.c1.y !== c1.y ||\n      nextProps.c2.x !== c2.x ||\n      nextProps.c2.y !== c2.y\n    );\n  }\n\n  render() {\n    const { curveColor, curveWidth, start, end, c1, c2 } = this.props;\n    const curve = `M${start.x},${start.y} C${c1.x},${c1.y} ${c2.x},${c2.y} ${end.x},${end.y}`;\n\n    return (\n      <path\n        fill=\"none\"\n        stroke={curveColor}\n        strokeWidth={curveWidth}\n        d={curve}\n      />\n    );\n  }\n}\n\nBezierCurve.propTypes = {\n  curveColor: PropTypes.string.isRequired,\n  curveWidth: PropTypes.number.isRequired,\n  start: PropTypes.exact({\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired\n  }).isRequired,\n  end: PropTypes.exact({\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired\n  }).isRequired,\n  c1: PropTypes.exact({\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired\n  }).isRequired,\n  c2: PropTypes.exact({\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired\n  }).isRequired\n};\n","import React from \"react\";\nimport Draggable from \"react-draggable\";\nimport PropTypes from \"prop-types\";\n\nfunction DraggableForeignObject(props) {\n  return (\n    <Draggable scale={props.scale} onDrag={props.onDrag} position={props}>\n      <foreignObject x={0} y={0} width={props.width} height={props.height}>\n        <div xmlns=\"http://www.w3.org/1999/xhtml\">{props.children}</div>\n      </foreignObject>\n    </Draggable>\n  );\n}\n\nDraggableForeignObject.propTypes = {\n  scale: PropTypes.number.isRequired,\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  onDrag: PropTypes.func.isRequired,\n  children: PropTypes.any.isRequired\n};\n\nexport default DraggableForeignObject;\n","import React from \"react\";\nimport Draggable from \"react-draggable\";\n\nexport default function(props) {\n  return (\n    <Draggable\n      key={props.key}\n      scale={props.scale}\n      position={props.position}\n      onDrag={props.onDrag}\n    >\n      <div className=\"box no-cursor\">\n        <svg className=\"graphics inport\">\n          <circle\n            className=\"circle\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            cx=\"15\"\n            cy=\"15\"\n            r=\"15\"\n            style={{\n              stroke: \"#000000\",\n              strokeWidth: 3,\n              fill: \"#66ff66\"\n            }}\n            opacity=\".7\"\n          />\n        </svg>\n\n        <div className=\"drag\">{props.title}</div>\n        <h3>{/* <InlineMath>\\int_0^\\infty x^2 dx</InlineMath> */}</h3>\n\n        <svg className=\"graphics outport\" width=\"30\" height=\"30\">\n          <circle\n            className=\"circle\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            cx=\"15\"\n            cy=\"15\"\n            r=\"15\"\n            style={{\n              stroke: \"#000000\",\n              strokeWidth: 3,\n              fill: \"#ff0000\"\n            }}\n            opacity=\".7\"\n          />\n        </svg>\n      </div>\n    </Draggable>\n  );\n}\n","import React from \"react\";\nimport Draggable from \"react-draggable\";\nimport \"./InOutNode.css\";\n\nvar rowHeight = 16;\nvar portWidth = 15;\n\nfunction InPort(props) {\n  const { name, nodeIndex, portIndex, onConnect } = props;\n  return (\n    <div className=\"port_area in\">\n      <div\n        className=\"port noselect\"\n        draggable={true}\n        onDrop={e => {\n          var payLoad = JSON.parse(e.dataTransfer.getData(\"text\"));\n          console.log(\"payLoad\", payLoad);\n          if (payLoad.outPortIndex !== null) {\n            console.log(\n              `connect node ${payLoad.nodeIndex}:${payLoad.outPortIndex} and node ${nodeIndex}:${portIndex}`\n            );\n            onConnect(\n              payLoad.nodeIndex,\n              payLoad.outPortIndex,\n              nodeIndex,\n              portIndex\n            );\n          } else {\n            console.log(\"invalid drop\");\n          }\n          e.preventDefault();\n        }}\n        onDragOver={e => {\n          e.preventDefault();\n        }}\n      >\n        →\n      </div>\n      <header className=\"porttext in noselect\">{name}</header>\n      <div className=\"noport noselect\"></div>\n    </div>\n  );\n}\n\nfunction OutPort(props) {\n  const { name, nodeIndex, portIndex } = props;\n  return (\n    <div className=\"port_area out\">\n      <div className=\"noport noselect\"></div>\n      <header className=\"porttext out noselect\">{name}</header>\n      <div\n        className=\"port noselect\"\n        draggable={true}\n        onDragStart={e => {\n          //console.log(e.nativeEvent.offsetX, e.nativeEvent.offsetY);\n          {\n            var payLoadString = JSON.stringify({\n              nodeIndex: nodeIndex,\n              outPortIndex: portIndex\n            });\n            console.log(\"drag start\", payLoadString);\n            e.dataTransfer.setData(\"text/plain\", payLoadString);\n          }\n        }}\n        onDrag={e => {\n          //console.log(\"e.nativeEvent.offsetX, e.nativeEvent.offsetY\");\n        }}\n      >\n        →\n      </div>\n    </div>\n  );\n}\n\nexport function inPortRelativePosition(node, inPortIndex) {\n  return {\n    x: portWidth / 2,\n    y: rowHeight + rowHeight * inPortIndex + rowHeight / 2\n  };\n}\n\nexport function outPortRelativePosition(node, outPortIndex) {\n  return {\n    x: node.width - portWidth / 2,\n    y:\n      rowHeight +\n      node.inputPorts.length * rowHeight +\n      outPortIndex * rowHeight +\n      rowHeight / 2\n  };\n}\n\nexport class InOutNode extends React.Component {\n  shouldComponentUpdate(nextProps) {\n    const { nodeIndex, scale, position } = this.props;\n    return (\n      nextProps.scale !== scale ||\n      nextProps.nodeIndex !== nodeIndex ||\n      nextProps.position.x !== position.x ||\n      nextProps.position.y !== position.y\n    );\n  }\n\n  render() {\n    const { nodeIndex, scale, position, onConnect, onDrag, width } = this.props;\n    return (\n      <Draggable\n        scale={scale}\n        position={position}\n        onDrag={onDrag}\n        handle=\"header\"\n      >\n        <div\n          className=\"node noselect\"\n          style={{ height: \"60px\", width: `${width}px` }}\n        >\n          <div className=\"main_area\">\n            <div className=\"addin noselect\">+</div>\n            <header className=\"nodetext noselect\">Add</header>\n            <div className=\"addout noselect\">+</div>\n          </div>\n          <InPort\n            name=\"x\"\n            nodeIndex={nodeIndex}\n            portIndex={0}\n            onConnect={onConnect}\n          />\n          <InPort\n            name=\"y\"\n            nodeIndex={nodeIndex}\n            portIndex={1}\n            onConnect={onConnect}\n          />\n          <OutPort name=\"sum\" nodeIndex={nodeIndex} portIndex={0} />\n        </div>\n      </Draggable>\n    );\n  }\n}\n","import React from \"react\";\nimport { connect } from \"react-redux\";\n// import { InlineMath } from \"react-katex\";\nimport BezierCurve from \"./BezierCurve\";\nimport DraggableForeignObject from \"./DraggableForeignObject\";\nimport {\n  positionNodeAction,\n  positionEveryOtherNodeAction,\n  positionTextNodeAction,\n  positionImgNodeAction,\n  connectPortsAction\n} from \"../redux/actions\";\nimport HTMLNode from \"./HTMLNode\";\nimport {\n  InOutNode,\n  inPortRelativePosition,\n  outPortRelativePosition\n} from \"./InOutNode\";\n\nclass GraphicsAreaPureHTML extends React.Component {\n  render() {\n    return (\n      <div\n        className=\"graphicsarea\"\n        style={{ transform: \"scale(\" + this.props.scale + \")\" }}\n      >\n        <svg\n          className=\"arrowsvg\"\n          style={{ position: \"relative\", top: \"0px\", left: \"0px\" }}\n        >\n          {this.props.connections.map((key, index) => {\n            var fromNode = this.props.nodes[key.from.nodeIndex];\n            var toNode = this.props.nodes[key.to.nodeIndex];\n            var fromX =\n              fromNode.position.x +\n              outPortRelativePosition(fromNode, key.from.index).x;\n            var fromY =\n              fromNode.position.y +\n              outPortRelativePosition(fromNode, key.from.index).y;\n            var toX =\n              toNode.position.x +\n              inPortRelativePosition(toNode, key.to.index).x;\n            var toY =\n              toNode.position.y +\n              inPortRelativePosition(toNode, key.to.index).y;\n            return (\n              <BezierCurve\n                key={index}\n                start={{ x: fromX, y: fromY }}\n                end={{ x: toX, y: toY }}\n                c1={{\n                  x: fromX + (fromNode.width * 3) / 4,\n                  y: fromY\n                }}\n                c2={{\n                  x: toX - (toNode.width * 3) / 4,\n                  y: toY\n                }}\n                curveColor=\"black\"\n                curveWidth={2}\n              />\n            );\n          })}\n\n          <DraggableForeignObject\n            scale={this.props.scale}\n            x={this.props.imgNode.x}\n            y={this.props.imgNode.y}\n            width={this.props.imgNode.width}\n            height={this.props.imgNode.height}\n            onDrag={(e, position) => this.props.onSetImgNodePosition(position)}\n          >\n            <img\n              style={{\n                width: \"50%\",\n                height: \"50%\",\n                borderStyle: \"solid\",\n                userDrag: \"none\",\n                userSelect: \"none\",\n                MozUserSelect: \"none\",\n                WebkitUserDrag: \"none\",\n                WebkitUserSelect: \"none\",\n                msUserSelect: \"none\"\n              }}\n              src={this.props.imgNode.url}\n              alt=\"Something nice\"\n            />\n          </DraggableForeignObject>\n\n          <DraggableForeignObject\n            scale={this.props.scale}\n            x={this.props.textNode.x}\n            y={this.props.textNode.y}\n            width={this.props.textNode.width}\n            height={this.props.textNode.height}\n            onDrag={(e, position) => this.props.onSetTextNodePosition(position)}\n          >\n            <div style={{ backgroundColor: \"#eeb\", borderStyle: \"solid\" }}>\n              {this.props.textNode.text}\n            </div>\n          </DraggableForeignObject>\n        </svg>\n\n        {this.props.nodes.map((key, index) =>\n          key.htmlNode ? (\n            <HTMLNode\n              title={key.title}\n              key={index}\n              scale={this.props.scale}\n              position={this.props.nodes[index].position}\n              onDrag={(e, position) => {\n                this.props.onSetPosition(index, position, false);\n              }}\n            />\n          ) : (\n            <InOutNode\n              title={key.title}\n              key={index}\n              nodeIndex={index}\n              scale={this.props.scale}\n              position={this.props.nodes[index].position}\n              width={this.props.nodes[index].width}\n              onDrag={(e, position) => {\n                this.props.onSetPosition(\n                  index,\n                  position,\n                  this.props.stressTest\n                );\n              }}\n              onConnect={this.props.onConnect}\n            />\n          )\n        )}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  nodes: state.nodes,\n  connections: state.connections,\n  scale: state.scale,\n  textNode: state.textNode,\n  imgNode: state.imgNode,\n  stressTest: state.stressTest\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onSetPosition: (index, position, stressTest) => {\n    if (stressTest) {\n      dispatch(positionEveryOtherNodeAction(index, position));\n    } else {\n      dispatch(positionNodeAction(index, position));\n    }\n  },\n  onSetTextNodePosition: position => dispatch(positionTextNodeAction(position)),\n  onSetImgNodePosition: position => dispatch(positionImgNodeAction(position)),\n  onConnect: (fromNodeIndex, fromPortIndex, toNodeIndex, toPortIndex) => {\n    console.log(\"onConnected\");\n    dispatch(\n      connectPortsAction(fromNodeIndex, fromPortIndex, toNodeIndex, toPortIndex)\n    );\n  }\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(GraphicsAreaPureHTML);\n","import React from \"react\";\nimport $ from \"jquery\";\nwindow.jQuery = window.$ = $;\nrequire(\"jqueryui\");\nvar draw2d = require(\"draw2d\");\n\nexport default class CanvasDraw2D extends React.Component {\n  componentDidMount() {\n    this.renderCanvas(\"mycanvasdraw2d\");\n  }\n\n  renderCanvas(canvasId) {\n    var canvas = new draw2d.Canvas(canvasId);\n\n    // create and add two nodes which contains Ports (In and OUT)\n    //\n    var start = new draw2d.shape.node.Start();\n    var end = new draw2d.shape.node.End();\n\n    // ...add it to the canvas\n    canvas.add(start, 50, 50);\n    canvas.add(new draw2d.shape.node.Start(), 50, 250);\n    canvas.add(end, 230, 150);\n\n    // Create a Connection and connect the Start and End node\n    //\n    var c = new draw2d.Connection();\n    c.setRouter(new draw2d.layout.connection.SplineConnectionRouter());\n\n    // Set the endpoint decorations for the connection\n    //\n    c.setSourceDecorator(new draw2d.decoration.connection.BarDecorator());\n    c.setTargetDecorator(new draw2d.decoration.connection.DiamondDecorator());\n    // Connect the endpoints with the start and end port\n    //\n    c.setSource(start.getOutputPort(0));\n    c.setTarget(end.getInputPort(0));\n\n    // and finally add the connection to the canvas\n    canvas.add(c);\n\n    var figure = new draw2d.shape.analog.OpAmp();\n    canvas.add(figure, 350, 110);\n\n    var p1 = new draw2d.shape.basic.Polygon();\n    var p2 = new draw2d.shape.basic.Polygon();\n\n    canvas.add(p1, 450, 150);\n    canvas.add(p2, 450, 200);\n\n    p2.setBackgroundColor(\"#f0f000\");\n    p2.setAlpha(0.7);\n    p2.setDimension(100, 60);\n\n    canvas.setCurrentSelection(p2);\n\n    var shape = new draw2d.shape.basic.Text();\n\n    shape.setText(\"This is a simple text with some loooooong word in.\");\n    shape.setBackgroundColor(\"#f0f000\");\n\n    canvas.add(shape, 550, 10);\n\n    var lshape = new draw2d.shape.basic.Label();\n\n    lshape.setText(\"This is a label.\");\n    lshape.setBackgroundColor(\"#f0f000\");\n\n    canvas.add(lshape, 350, 70);\n\n    var pie = new draw2d.shape.diagram.Pie(80, 80);\n    pie.setWidth(100);\n    pie.setData([30, 60, 122, 4]);\n    canvas.add(pie, 600, 160);\n\n    var postit = new draw2d.shape.note.PostIt();\n    postit.installEditor(new draw2d.ui.LabelInplaceEditor());\n    postit.setColor(\"#000000\");\n    postit.setPadding(20);\n\n    postit.setText(\"This is simple sticky note\\nDouble click to edit.\");\n\n    canvas.add(postit, 700, 10);\n\n    var label = new draw2d.shape.basic.Label();\n\n    label.installEditor(new draw2d.ui.LabelInplaceEditor());\n    label.setText(\"Double click me to edit\");\n\n    canvas.add(label, 50, 10);\n\n    // Override the default connection type. This is used during drag&drop operations of ports.\n    //\n    draw2d.Connection.createConnection = function(sourcePort, targetPort) {\n      // return my special kind of connection\n      var con = new draw2d.Connection();\n      con.setRouter(new draw2d.layout.connection.FanConnectionRouter());\n      return con;\n    };\n\n    // create and add two nodes which contains Ports (In and OUT)\n    //\n    start = new draw2d.shape.node.Start();\n    end = new draw2d.shape.node.End();\n\n    // ...add it to the canvas\n    canvas.add(start, 50, 250);\n    canvas.add(end, 230, 280);\n\n    // first Connection\n    //\n    c = draw2d.Connection.createConnection();\n    c.setSource(start.getOutputPort(0));\n    c.setTarget(end.getInputPort(0));\n    canvas.add(c);\n\n    // second Connection\n    //\n    c = draw2d.Connection.createConnection();\n    c.setSource(start.getOutputPort(0));\n    c.setTarget(end.getInputPort(0));\n    canvas.add(c);\n\n    // third Connection\n    //\n    c = draw2d.Connection.createConnection();\n    c.setSource(start.getOutputPort(0));\n    c.setTarget(end.getInputPort(0));\n    canvas.add(c);\n\n    // fourth Connection\n    //\n    c = draw2d.Connection.createConnection();\n    c.setSource(start.getOutputPort(0));\n    c.setTarget(end.getInputPort(0));\n    canvas.add(c);\n\n    // Zoom mose wheel support\n    canvas.installEditPolicy(new draw2d.policy.canvas.WheelZoomPolicy());\n    shape = new draw2d.shape.basic.Text({\n      text: \"Use the mouse wheel + SHIFT to zoom\"\n    });\n\n    canvas.add(shape, 400, 300);\n\n    // Register some callbacks\n    canvas.on(\"select\", function(emitter, event) {\n      if (event.figure !== null) {\n        console.log(\"figure selected\");\n      } else {\n        console.log(\"selection cleared\");\n      }\n    });\n\n    $(\"#mycanvasdraw2d\").click(function(ev) {\n      console.log(\"Mouse click:\" + ev.clientX + \",\" + ev.clientY);\n    });\n\n    // Log state to console\n    var writer = new draw2d.io.json.Writer();\n    writer.marshal(canvas, json => console.log(json));\n\n    // Custom shape\n    {\n      class CustomFigure extends draw2d.SVGFigure {\n        constructor(attr) {\n          super(attr);\n\n          this.index = 0;\n          this.svgs = [];\n\n          this.svgs.push(\n            '<svg xmlns=\"http://www.w3.org/2000/svg\">' +\n              '  <path stroke=\"#000\" fill=\"#FFF\" stroke-miterlimit=\"4\" d=\"m0,49.842l0,-49.742l49.982,0l0,49.742l-49.982,0z\" id=\"polygon3873\"/>' +\n              '  <text text-anchor=\"middle\" fill=\"#000000\" font-family=\"Sans-serif\" x=\"24.81563\" y=\"26.50938\" xml:space=\"preserve\" font-size=\"8px\" id=\"svg_1\">Click me</text>' +\n              \"</svg>\"\n          );\n\n          this.svgs.push(\n            '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\">' +\n              '<rect x=\"14\" y=\"23\" width=\"20\" height=\"20\" fill=\"lime\" stroke=\"black\" />' +\n              \"</svg>\"\n          );\n\n          this.on(\n            \"click\",\n            function() {\n              this.index = ++this.index % this.svgs.length;\n              this.setSVG(this.svgs[this.index], 500);\n            },\n            this\n          );\n        }\n\n        getSVG() {\n          return this.svgs[0];\n        }\n      }\n\n      var fig = new CustomFigure();\n\n      canvas.add(fig, 100, 100);\n    }\n  }\n\n  render() {\n    return <div id=\"mycanvasdraw2d\"></div>;\n  }\n}\n\nexport class GraphicsAreaDraw2D extends React.Component {\n  render() {\n    return (\n      <div className=\"graphicsarea\" style={{ transform: \"scale(1)\" }}>\n        <CanvasDraw2D className=\"canvas2darea\" />\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport DownloadLink from \"react-download-link\";\nimport \"rc-slider/assets/index.css\";\nimport \"rc-tooltip/assets/bootstrap.css\";\n\nimport Tooltip from \"rc-tooltip\";\nimport Slider from \"rc-slider\";\nimport { connect } from \"react-redux\";\n\nconst wrapperStyle = { width: 400, margin: 50 };\n\nconst Handle = Slider.Handle;\n\nconst handle = props => {\n  const { value, dragging, index, ...restProps } = props;\n  return (\n    <Tooltip\n      prefixCls=\"rc-slider-tooltip\"\n      overlay={value}\n      visible={dragging}\n      placement=\"top\"\n      key={index}\n    >\n      <Handle value={value} {...restProps} />\n    </Tooltip>\n  );\n};\n\nconst TopBar = props => {\n  if (props.showControls) {\n    return (\n      <div className=\"topbar\">\n        <div className=\"zoom\" style={wrapperStyle}>\n          <Slider\n            min={20}\n            max={150}\n            value={props.scale}\n            handle={handle}\n            onChange={props.onChange}\n          />\n        </div>\n        <DownloadLink\n          label=\"Save state to disk\"\n          className=\"savestate\"\n          tagName=\"h2\"\n          filename=\"state.txt\"\n          exportFile={() => JSON.stringify(props.state, null, 2)}\n        >\n          <h1>Save sta2te to disk</h1>\n        </DownloadLink>\n      </div>\n    );\n  } else {\n    return (\n      <div className=\"topbar\">\n        <DownloadLink\n          label=\"Save state to disk\"\n          className=\"savestate\"\n          tagName=\"h2\"\n          filename=\"state.txt\"\n          exportFile={() => JSON.stringify(props.state, null, 2)}\n        >\n          <h1>Save state to disk</h1>\n        </DownloadLink>\n      </div>\n    );\n  }\n};\n\nexport default connect()(TopBar);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\n\nimport \"./App.css\";\n\nimport GraphicsAreaPureHTML from \"./components/GraphicsAreaPureHTML\";\nimport GraphicsAreaDraw2D from \"./components/CanvasDraw2D\";\n\nimport \"katex/dist/katex.min.css\";\n\nimport TopBar from \"./components/TopBar\";\nimport {\n  zoomAction,\n  toggleGraphicsLibraryAction,\n  resetStateNormalAction,\n  resetStateStressTestAction\n} from \"./redux/actions\";\n\nclass App extends React.Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <div style={{ display: \"flex\", justifyContent: \"space-around\" }}>\n          <button onClick={this.props.resetStateNormal}>\n            <h2>Reset state to some nodes</h2>\n          </button>\n          <button onClick={this.props.resetStateStressTest}>\n            <h2>Reset state to stress test</h2>\n          </button>\n          <button onClick={this.props.toggleGraphicsLibrary}>\n            <h2>Toggle graphics library (Pure HTML / Draw2D)</h2>\n          </button>\n        </div>\n        <TopBar\n          className=\"topbar\"\n          showControls={this.props.state.pureHTMLgraph}\n          scale={this.props.state.scale * 100}\n          state={this.props.state}\n          onChange={this.props.onZoomChange}\n        />\n\n        {this.props.state.pureHTMLgraph ? (\n          <GraphicsAreaPureHTML />\n        ) : (\n          <GraphicsAreaDraw2D className=\"graphicsarea\" />\n        )}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  state: state\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onZoomChange: scale => dispatch(zoomAction(scale)),\n  toggleGraphicsLibrary: () => dispatch(toggleGraphicsLibraryAction()),\n  resetStateNormal: () => dispatch(resetStateNormalAction()),\n  resetStateStressTest: () => dispatch(resetStateStressTestAction())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { createStore } from \"redux\";\nimport graphEditorReducer from \"./redux/reducers\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\n\nconst store = createStore(\n  graphEditorReducer,\n  composeWithDevTools()\n\n  // other store enhancers if any\n);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import InitialState from \"../../InitialState\";\nimport update from \"immutability-helper\";\nimport {\n  CHANGE_ZOOM,\n  POSITION_NODE,\n  POSITION_EVERY_OTHER_NODE,\n  POSITION_TEXT_NODE,\n  POSITION_IMG_NODE,\n  TOGGLE_GRAPHICS,\n  RESET_NORMAL,\n  RESET_STRESS_TEST,\n  CONNECT_PORTS\n} from \"../actions\";\n\nexport default function graphEditorReducer(\n  state = InitialState(false),\n  action\n) {\n  //  console.log(\"graphEditorReducer\", action);\n  var newState;\n  //  console.log(\"state before \", state);\n  var deltaX;\n  var deltaY;\n  switch (action.type) {\n    case CHANGE_ZOOM:\n      newState = update(state, { scale: { $set: action.percent / 100 } });\n      break;\n    case POSITION_NODE:\n      deltaX = action.position.x - state.nodes[action.index].position.x;\n      deltaY = action.position.y - state.nodes[action.index].position.y;\n      newState = update(state, {\n        nodes: {\n          [action.index]: {\n            position: {\n              x: { $set: action.position.x },\n              y: { $set: action.position.y }\n            }\n          }\n        }\n      });\n\n      break;\n    case POSITION_EVERY_OTHER_NODE:\n      deltaX = action.position.x - state.nodes[action.index].position.x;\n      deltaY = action.position.y - state.nodes[action.index].position.y;\n      var updateObject = {};\n      state.nodes.map((value, index) => {\n        if (index % 2 === 0) {\n          updateObject[index] = {\n            position: {\n              x: { $set: state.nodes[index].position.x + deltaX },\n              y: { $set: state.nodes[index].position.y + deltaY }\n            }\n          };\n        }\n        return null;\n      });\n      newState = update(state, {\n        nodes: {\n          [action.index]: {\n            position: {\n              x: { $set: action.position.x },\n              y: { $set: action.position.y }\n            }\n          },\n          ...updateObject\n        }\n      });\n      break;\n    case POSITION_TEXT_NODE:\n      newState = update(state, {\n        textNode: {\n          x: { $set: action.position.x },\n          y: { $set: action.position.y }\n        }\n      });\n      break;\n    case POSITION_IMG_NODE:\n      newState = update(state, {\n        imgNode: {\n          x: { $set: action.position.x },\n          y: { $set: action.position.y }\n        }\n      });\n      break;\n    case TOGGLE_GRAPHICS:\n      var newValue = state.pureHTMLgraph ? false : true;\n      newState = update(state, {\n        pureHTMLgraph: { $set: newValue }\n      });\n      break;\n    case RESET_NORMAL:\n      newState = InitialState(false);\n      break;\n    case RESET_STRESS_TEST:\n      newState = InitialState(true);\n      break;\n    case CONNECT_PORTS:\n      console.log(\"CONNECT_PORTS reducer\");\n      newState = update(state, {\n        connections: {\n          $push: [\n            {\n              from: {\n                nodeIndex: action.fromNodeIndex,\n                index: action.fromPortIndex\n              },\n              to: {\n                nodeIndex: action.toNodeIndex,\n                index: action.toPortIndex\n              }\n            }\n          ]\n        }\n      });\n      break;\n\n    default:\n      console.log(\"default \", state);\n      newState = state;\n      break;\n  }\n\n  //  console.log(\"newState  \", newState);\n  return newState;\n}\n"],"sourceRoot":""}