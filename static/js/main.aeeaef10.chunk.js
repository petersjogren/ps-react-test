(this["webpackJsonpps-react-test"]=this["webpackJsonpps-react-test"]||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},161:function(e,t,n){"use strict";n.r(t);var o=n(1),a=n.n(o),r=n(7),s=n.n(r),i=n(25),c=n(43),l=n(44);var p=n(34),d=n.n(p),u="CHANGE_ZOOM",h="POSITION_NODE",m="POSITION_TEXT_NODE",g="POSITION_IMG_NODE",f="TOGGLE_GRAPHICS";n(100);var y=n(15),v=n(16),x=n(18),b=n(17),w=n(19),O=(n(101),n(46)),E=n.n(O),k=n(85),j=function(e){function t(){return Object(y.a)(this,t),Object(x.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(v.a)(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.curveColor,o=t.curveWidth,a=t.start,r=t.end,s=t.c1,i=t.c2;return e.curveColor!==n||e.curveWidth!==o||e.start!==a||e.end!==r||e.c1!==s||e.c2!==i}},{key:"render",value:function(){var e=this.props,t=e.curveColor,n=e.curveWidth,o=e.start,r=e.end,s=e.c1,i=e.c2,c="M".concat(o.x,",").concat(o.y," C").concat(s.x,",").concat(s.y," ").concat(i.x,",").concat(i.y," ").concat(r.x,",").concat(r.y);return a.a.createElement("path",{fill:"none",stroke:t,strokeWidth:n,d:c})}}]),t}(a.a.Component);var N=function(e){return a.a.createElement(E.a,{scale:e.scale,onDrag:e.onDrag,position:e},a.a.createElement("foreignObject",{x:0,y:0,width:e.width,height:e.height},a.a.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml"},e.children)))};function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=function(e){function t(){return Object(y.a)(this,t),Object(x.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t={onStart:this.onStart,onStop:this.onStop};return a.a.createElement("div",{className:"graphicsarea",style:{transform:"scale("+this.props.scale+")"}},a.a.createElement("svg",{className:"arrowsvg",style:{position:"relative",top:"0px",left:"0px"}},this.props.connections.map((function(t,n){var o=e.props.nodes[t.from.nodeIndex],r=e.props.nodes[t.to.nodeIndex];return a.a.createElement(j,{start:P({},o.position),end:P({},r.position),c1:{x:(o.position.x+r.position.x)/2,y:o.position.y},c2:{x:(o.position.x+r.position.x)/2,y:r.position.y},curveColor:"blue",curveWidth:7})})),a.a.createElement(N,{scale:this.props.scale,x:this.props.imgNode.x,y:this.props.imgNode.y,width:this.props.imgNode.width,height:this.props.imgNode.height,onDrag:function(t,n){return e.props.onSetImgNodePosition(n)}},a.a.createElement("img",{style:{width:"50%",height:"50%","border-style":"solid","user-drag":"none","user-select":"none","-moz-user-select":"none","-webkit-user-drag":"none","-webkit-user-select":"none","-ms-user-select":"none"},src:this.props.imgNode.url,alt:"Something nice"})),a.a.createElement(N,{scale:this.props.scale,x:this.props.textNode.x,y:this.props.textNode.y,width:this.props.textNode.width,height:this.props.textNode.height,onDrag:function(t,n){return e.props.onSetTextNodePosition(n)}},a.a.createElement("div",{style:{"background-color":"#eeb","border-style":"solid"}},this.props.textNode.text))),this.props.nodes.map((function(n,o){return a.a.createElement(E.a,Object.assign({scale:e.props.scale,position:e.props.nodes[o].position},t,{onDrag:function(t,n){return e.props.onSetPosition(o,n)}}),a.a.createElement("div",{className:"box no-cursor"},a.a.createElement("svg",{className:"graphics inport"},a.a.createElement("circle",{className:"circle",xmlns:"http://www.w3.org/2000/svg",cx:"15",cy:"15",r:"15",style:{stroke:"#000000","stroke-width":3,fill:"#66ff66"},opacity:".7"})),a.a.createElement("div",{className:"drag"},n.title),a.a.createElement("h3",null,a.a.createElement(k.InlineMath,null,"\\int_0^\\infty x^2 dx")),a.a.createElement("svg",{className:"graphics outport",width:"30",height:"30"},a.a.createElement("circle",{className:"circle",xmlns:"http://www.w3.org/2000/svg",cx:"15",cy:"15",r:"15",style:{stroke:"#000000","stroke-width":3,fill:"#ff0000"},opacity:".7"}))))})))}}]),t}(a.a.Component),T=Object(i.b)((function(e){return{nodes:e.nodes,connections:e.connections,scale:e.scale,textNode:e.textNode,imgNode:e.imgNode}}),(function(e){return{onSetPosition:function(t,n){return e(function(e,t){return{type:h,index:e,position:t}}(t,n))},onSetTextNodePosition:function(t){return e(function(e){return{type:m,position:e}}(t))},onSetImgNodePosition:function(t){return e(function(e){return{type:g,position:e}}(t))}}}))(S),I=n(45),D=n(47),L=n.n(D);window.jQuery=window.$=L.a,n(103);var M=n(104),G=function(e){function t(){return Object(y.a)(this,t),Object(x.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.renderCanvas("mycanvasdraw2d")}},{key:"renderCanvas",value:function(e){var t=new M.Canvas(e),n=new M.shape.node.Start,o=new M.shape.node.End;t.add(n,50,50),t.add(new M.shape.node.Start,50,250),t.add(o,230,150);var a=new M.Connection;a.setRouter(new M.layout.connection.SplineConnectionRouter),a.setSourceDecorator(new M.decoration.connection.BarDecorator),a.setTargetDecorator(new M.decoration.connection.DiamondDecorator),a.setSource(n.getOutputPort(0)),a.setTarget(o.getInputPort(0)),t.add(a);var r=new M.shape.analog.OpAmp;t.add(r,350,110);var s=new M.shape.basic.Polygon,i=new M.shape.basic.Polygon;t.add(s,450,150),t.add(i,450,200),i.setBackgroundColor("#f0f000"),i.setAlpha(.7),i.setDimension(100,60),t.setCurrentSelection(i);var c=new M.shape.basic.Text;c.setText("This is a simple text with some loooooong word in."),c.setBackgroundColor("#f0f000"),t.add(c,550,10);var l=new M.shape.basic.Label;l.setText("This is a label."),l.setBackgroundColor("#f0f000"),t.add(l,350,70);var p=new M.shape.diagram.Pie(80,80);p.setWidth(100),p.setData([30,60,122,4]),t.add(p,600,160);var d=new M.shape.note.PostIt;d.installEditor(new M.ui.LabelInplaceEditor),d.setColor("#000000"),d.setPadding(20),d.setText("This is simple sticky note\nDouble click to edit."),t.add(d,700,10);var u=new M.shape.basic.Label;u.installEditor(new M.ui.LabelInplaceEditor),u.setText("Double click me to edit"),t.add(u,50,10),M.Connection.createConnection=function(e,t){var n=new M.Connection;return n.setRouter(new M.layout.connection.FanConnectionRouter),n},n=new M.shape.node.Start,o=new M.shape.node.End,t.add(n,50,250),t.add(o,230,280),(a=M.Connection.createConnection()).setSource(n.getOutputPort(0)),a.setTarget(o.getInputPort(0)),t.add(a),(a=M.Connection.createConnection()).setSource(n.getOutputPort(0)),a.setTarget(o.getInputPort(0)),t.add(a),(a=M.Connection.createConnection()).setSource(n.getOutputPort(0)),a.setTarget(o.getInputPort(0)),t.add(a),(a=M.Connection.createConnection()).setSource(n.getOutputPort(0)),a.setTarget(o.getInputPort(0)),t.add(a),t.installEditPolicy(new M.policy.canvas.WheelZoomPolicy),c=new M.shape.basic.Text({text:"Use the mouse wheel + SHIFT to zoom"}),t.add(c,400,300),t.on("select",(function(e,t){null!==t.figure?console.log("figure selected"):console.log("selection cleared")})),L()("#mycanvasdraw2d").click((function(e){console.log("Mouse click:"+e.clientX+","+e.clientY)})),(new M.io.json.Writer).marshal(t,(function(e){return console.log(e)}));var h=new(function(e){function t(e){var n;return Object(y.a)(this,t),(n=Object(x.a)(this,Object(b.a)(t).call(this,e))).index=0,n.svgs=[],n.svgs.push('<svg xmlns="http://www.w3.org/2000/svg">  <path stroke="#000" fill="#FFF" stroke-miterlimit="4" d="m0,49.842l0,-49.742l49.982,0l0,49.742l-49.982,0z" id="polygon3873"/>  <text text-anchor="middle" fill="#000000" font-family="Sans-serif" x="24.81563" y="26.50938" xml:space="preserve" font-size="8px" id="svg_1">Click me</text></svg>'),n.svgs.push('<svg xmlns="http://www.w3.org/2000/svg" version="1.1"><rect x="14" y="23" width="20" height="20" fill="lime" stroke="black" /></svg>'),n.on("click",(function(){this.index=++this.index%this.svgs.length,this.setSVG(this.svgs[this.index],500)}),Object(I.a)(n)),n}return Object(w.a)(t,e),Object(v.a)(t,[{key:"getSVG",value:function(){return this.svgs[0]}}]),t}(M.SVGFigure));t.add(h,100,100)}},{key:"render",value:function(){return a.a.createElement("div",{id:"mycanvasdraw2d"})}}]),t}(a.a.Component),H=(a.a.Component,n(105),n(86)),W=n(69),$=n.n(W),F=(n(106),n(107),n(49)),_=n(70),z={width:400,margin:50},A=_.a.Handle,B=function(e){var t=e.value,n=e.dragging,o=e.index,r=Object(H.a)(e,["value","dragging","index"]);return a.a.createElement(F.a,{prefixCls:"rc-slider-tooltip",overlay:t,visible:n,placement:"top",key:o},a.a.createElement(A,Object.assign({value:t},r)))},R=Object(i.b)()((function(e){return e.showControls?a.a.createElement("div",{className:"topbar"},a.a.createElement("div",{className:"zoom",style:z},a.a.createElement(_.a,{min:20,max:150,defaultValue:e.defaultScale,handle:B,onChange:e.onChange})),a.a.createElement($.a,{label:"Save state to disk",className:"savestate",tagName:"h2",filename:"state.txt",exportFile:function(){return JSON.stringify(e.state,null,2)}},a.a.createElement("h1",null,"Save sta2te to disk"))):a.a.createElement("div",{className:"topbar"},a.a.createElement($.a,{label:"Save state to disk",className:"savestate",tagName:"h2",filename:"state.txt",exportFile:function(){return JSON.stringify(e.state,null,2)}},a.a.createElement("h1",null,"Save state to disk")))})),J=function(e){function t(){return Object(y.a)(this,t),Object(x.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement("button",{onClick:this.props.toggleGraphicsLibrary},a.a.createElement("h2",null,"Toggle graphics library (Pure HTML / Draw2D)")),a.a.createElement(R,{className:"topbar",showControls:this.props.state.pureHTMLgraph,defaultScale:100*this.props.state.scale,state:this.props.state,onChange:this.props.onZoomChange}),this.props.state.pureHTMLgraph?a.a.createElement(T,null):a.a.createElement(G,{className:"graphicsarea"}))}}]),t}(a.a.Component),V=Object(i.b)((function(e){return{state:e}}),(function(e){return{onZoomChange:function(t){return e({type:u,percent:t})},toggleGraphicsLibrary:function(){return e({type:f})}}}))(J);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Z=Object(c.b)((function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{pureHTMLgraph:!0,scale:1,activeDrags:0,deltaPosition:{x:0,y:0},nodes:[{title:"2D shape transformation",id:213,position:{x:260,y:20},inputPorts:[{name:"in x",type:"int"},{name:"in y",type:"int"}],outputPorts:[{name:"out x",type:"float"},{name:"out y",type:"float"}]},{title:"Measurement",id:19,position:{x:350,y:120},inputPorts:[{name:"amount",type:"int"},{name:"temperature",type:"float"},{name:"the grid",type:"se.minerva.Grid"}],outputPorts:[{name:"result x",type:"float"},{name:"result y",type:"float"},{name:"result z",type:"float"}]},{title:"Colorizer",id:23,position:{x:510,y:236},inputPorts:[{name:"amount",type:"int"},{name:"temperature",type:"float"}],outputPorts:[{name:"red",type:"int"},{name:"blue",type:"int"},{name:"green",type:"int"},{name:"alpha",type:"float"},{name:"grid",type:"se.minerva.Grid"}]},{title:"1D transformation",id:101,position:{x:95,y:236},inputPorts:[{name:"x",type:"float"}],outputPorts:[{name:"x",type:"float"}]}],connections:[{from:{nodeIndex:0,index:0},to:{nodeIndex:1,index:1}},{from:{nodeIndex:2,index:4},to:{nodeIndex:1,index:2}},{from:{nodeIndex:3,index:0},to:{nodeIndex:1,index:1}}],textNode:{x:400,y:350,width:200,height:400,text:"Over hill, over dale, Thorough bush, thorough brier, Over park,\n            over pale, Thorough flood, thorough fire! I do wander everywhere,\n            Swifter than the moon's sphere; And I serve the Fairy Queen, To\n            dew her orbs upon the green; The cowslips tall her pensioners be;\n            In their gold coats spots you see; Those be rubies, fairy favours;\n            In those freckles live their savours; I must go seek some dewdrops\n            here, And hang a pearl in every cowslip's ear."},imgNode:{x:50,y:350,width:400,height:300,url:"http://minerva-central.net/images/minerva-forward-m1.png"}},n=arguments.length>1?arguments[1]:void 0;switch(console.log("graphEditorReducer",n),console.log("state before ",t),n.type){case u:e=d()(t,{scale:{$set:n.percent/100}});break;case h:var o=n.index;n.position;e=d()(t,{nodes:Object(l.a)({},o,{position:{x:{$set:n.position.x},y:{$set:n.position.y}}})});break;case m:e=d()(t,{textNode:{x:{$set:n.position.x},y:{$set:n.position.y}}});break;case g:e=d()(t,{imgNode:{x:{$set:n.position.x},y:{$set:n.position.y}}});break;case f:var a=!t.pureHTMLgraph;e=d()(t,{pureHTMLgraph:{$set:a}});break;default:console.log("default ",t),e=t}return console.log("newState  ",e),e}));s.a.render(a.a.createElement(i.a,{store:Z},a.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},90:function(e,t,n){e.exports=n(161)}},[[90,1,2]]]);
//# sourceMappingURL=main.aeeaef10.chunk.js.map