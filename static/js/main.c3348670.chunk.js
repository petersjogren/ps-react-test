(this["webpackJsonpps-react-test"]=this["webpackJsonpps-react-test"]||[]).push([[0],{101:function(e,t,n){},102:function(e,t,n){},103:function(e,t,n){},162:function(e,t,n){"use strict";n.r(t);var o=n(1),a=n.n(o),r=n(7),s=n.n(r),i=n(25),c=n(40),l=n(35),p=n(51);var d=n(29),u=n.n(d),h="CHANGE_ZOOM",m="POSITION_NODE",g="POSITION_EVERY_OTHER_NODE",v="POSITION_TEXT_NODE",y="POSITION_IMG_NODE",f="TOGGLE_GRAPHICS";function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(101);var O=n(12),w=n(13),E=n(15),j=n(14),N=n(16),k=(n(102),function(e){function t(){return Object(O.a)(this,t),Object(E.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(w.a)(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.curveColor,o=t.curveWidth,a=t.start,r=t.end,s=t.c1,i=t.c2;return e.curveColor!==n||e.curveWidth!==o||e.start.x!==a.x||e.start.y!==a.y||e.end.x!==r.x||e.end.y!==r.y||e.c1.x!==s.x||e.c1.y!==s.y||e.c2.x!==i.x||e.c2.y!==i.y}},{key:"render",value:function(){var e=this.props,t=e.curveColor,n=e.curveWidth,o=e.start,r=e.end,s=e.c1,i=e.c2,c="M".concat(o.x,",").concat(o.y," C").concat(s.x,",").concat(s.y," ").concat(i.x,",").concat(i.y," ").concat(r.x,",").concat(r.y);return a.a.createElement("path",{fill:"none",stroke:t,strokeWidth:n,d:c})}}]),t}(a.a.Component)),P=n(34),C=n.n(P);var S=function(e){return a.a.createElement(C.a,{scale:e.scale,onDrag:e.onDrag,position:e},a.a.createElement("foreignObject",{x:0,y:0,width:e.width,height:e.height},a.a.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml"},e.children)))},D=function(e){return a.a.createElement(C.a,{key:e.key,scale:e.scale,position:e.position,onDrag:e.onDrag},a.a.createElement("div",{className:"box no-cursor"},a.a.createElement("svg",{className:"graphics inport"},a.a.createElement("circle",{className:"circle",xmlns:"http://www.w3.org/2000/svg",cx:"15",cy:"15",r:"15",style:{stroke:"#000000",strokeWidth:3,fill:"#66ff66"},opacity:".7"})),a.a.createElement("div",{className:"drag"},e.title),a.a.createElement("h3",null),a.a.createElement("svg",{className:"graphics outport",width:"30",height:"30"},a.a.createElement("circle",{className:"circle",xmlns:"http://www.w3.org/2000/svg",cx:"15",cy:"15",r:"15",style:{stroke:"#000000",strokeWidth:3,fill:"#ff0000"},opacity:".7"}))))},T=(n(103),function(e){function t(){return Object(O.a)(this,t),Object(E.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(w.a)(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.scale,o=t.position;return e.scale!==n||e.position!==o}},{key:"render",value:function(){return a.a.createElement(C.a,{key:this.props.key,scale:this.props.scale,position:this.props.position,onDrag:this.props.onDrag,handle:"header"},a.a.createElement("div",{className:"node noselect",style:{height:"60px"}},a.a.createElement("div",{className:"main_area"},a.a.createElement("div",{className:"addin noselect"},"+"),a.a.createElement("header",{className:"nodetext noselect"},"Add"),a.a.createElement("div",{className:"addout noselect"},"+")),a.a.createElement("div",{className:"port_area"},a.a.createElement("div",{className:"port noselect"},"\u2192"),a.a.createElement("div",{className:"porttext in noselect"},"x"),a.a.createElement("div",{className:"noport noselect"})),a.a.createElement("div",{className:"port_area in"},a.a.createElement("div",{className:"port noselect",draggable:!0},"\u2192"),a.a.createElement("div",{className:"porttext in noselect"},"y"),a.a.createElement("div",{className:"noport noselect"})),a.a.createElement("div",{className:"port_area out"},a.a.createElement("div",{className:"noport noselect"}),a.a.createElement("div",{className:"porttext out noselect"},"sum"),a.a.createElement("div",{className:"port noselect",draggable:!0,onDrag:function(e){return console.log(e.nativeEvent.offsetX,e.nativeEvent.offsetY)}},"\u2192"))))}}]),t}(a.a.Component));function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=function(e){function t(){return Object(O.a)(this,t),Object(E.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"graphicsarea",style:{transform:"scale("+this.props.scale+")"}},a.a.createElement("svg",{className:"arrowsvg",style:{position:"relative",top:"0px",left:"0px"}},this.props.connections.map((function(t,n){var o=e.props.nodes[t.from.nodeIndex],r=e.props.nodes[t.to.nodeIndex];return a.a.createElement(k,{key:n,start:W({},o.position),end:W({},r.position),c1:{x:(o.position.x+r.position.x)/2,y:o.position.y},c2:{x:(o.position.x+r.position.x)/2,y:r.position.y},curveColor:"black",curveWidth:2})})),a.a.createElement(S,{scale:this.props.scale,x:this.props.imgNode.x,y:this.props.imgNode.y,width:this.props.imgNode.width,height:this.props.imgNode.height,onDrag:function(t,n){return e.props.onSetImgNodePosition(n)}},a.a.createElement("img",{style:{width:"50%",height:"50%",borderStyle:"solid",userDrag:"none",userSelect:"none",MozUserSelect:"none",WebkitUserDrag:"none",WebkitUserSelect:"none",msUserSelect:"none"},src:this.props.imgNode.url,alt:"Something nice"})),a.a.createElement(S,{scale:this.props.scale,x:this.props.textNode.x,y:this.props.textNode.y,width:this.props.textNode.width,height:this.props.textNode.height,onDrag:function(t,n){return e.props.onSetTextNodePosition(n)}},a.a.createElement("div",{style:{backgroundColor:"#eeb",borderStyle:"solid"}},this.props.textNode.text))),this.props.nodes.map((function(t,n){return t.htmlNode?a.a.createElement(D,{title:t.title,key:n,scale:e.props.scale,position:e.props.nodes[n].position,onDrag:function(t,o){return e.props.onSetPosition(n,o)}}):a.a.createElement(T,{title:t.title,key:n,scale:e.props.scale,position:e.props.nodes[n].position,onDrag:function(t,o){return e.props.onSetPosition(n,o)}})})))}}]),t}(a.a.Component),M=Object(i.b)((function(e){return{nodes:e.nodes,connections:e.connections,scale:e.scale,textNode:e.textNode,imgNode:e.imgNode}}),(function(e){return{onSetPosition:function(t,n){return e(function(e,t){return{type:g,index:e,position:t}}(t,n))},onSetTextNodePosition:function(t){return e(function(e){return{type:v,position:e}}(t))},onSetImgNodePosition:function(t){return e(function(e){return{type:y,position:e}}(t))}}}))(_),$=n(46),L=n(47),H=n.n(L);window.jQuery=window.$=H.a,n(104);var G=n(105),A=function(e){function t(){return Object(O.a)(this,t),Object(E.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){this.renderCanvas("mycanvasdraw2d")}},{key:"renderCanvas",value:function(e){var t=new G.Canvas(e),n=new G.shape.node.Start,o=new G.shape.node.End;t.add(n,50,50),t.add(new G.shape.node.Start,50,250),t.add(o,230,150);var a=new G.Connection;a.setRouter(new G.layout.connection.SplineConnectionRouter),a.setSourceDecorator(new G.decoration.connection.BarDecorator),a.setTargetDecorator(new G.decoration.connection.DiamondDecorator),a.setSource(n.getOutputPort(0)),a.setTarget(o.getInputPort(0)),t.add(a);var r=new G.shape.analog.OpAmp;t.add(r,350,110);var s=new G.shape.basic.Polygon,i=new G.shape.basic.Polygon;t.add(s,450,150),t.add(i,450,200),i.setBackgroundColor("#f0f000"),i.setAlpha(.7),i.setDimension(100,60),t.setCurrentSelection(i);var c=new G.shape.basic.Text;c.setText("This is a simple text with some loooooong word in."),c.setBackgroundColor("#f0f000"),t.add(c,550,10);var l=new G.shape.basic.Label;l.setText("This is a label."),l.setBackgroundColor("#f0f000"),t.add(l,350,70);var p=new G.shape.diagram.Pie(80,80);p.setWidth(100),p.setData([30,60,122,4]),t.add(p,600,160);var d=new G.shape.note.PostIt;d.installEditor(new G.ui.LabelInplaceEditor),d.setColor("#000000"),d.setPadding(20),d.setText("This is simple sticky note\nDouble click to edit."),t.add(d,700,10);var u=new G.shape.basic.Label;u.installEditor(new G.ui.LabelInplaceEditor),u.setText("Double click me to edit"),t.add(u,50,10),G.Connection.createConnection=function(e,t){var n=new G.Connection;return n.setRouter(new G.layout.connection.FanConnectionRouter),n},n=new G.shape.node.Start,o=new G.shape.node.End,t.add(n,50,250),t.add(o,230,280),(a=G.Connection.createConnection()).setSource(n.getOutputPort(0)),a.setTarget(o.getInputPort(0)),t.add(a),(a=G.Connection.createConnection()).setSource(n.getOutputPort(0)),a.setTarget(o.getInputPort(0)),t.add(a),(a=G.Connection.createConnection()).setSource(n.getOutputPort(0)),a.setTarget(o.getInputPort(0)),t.add(a),(a=G.Connection.createConnection()).setSource(n.getOutputPort(0)),a.setTarget(o.getInputPort(0)),t.add(a),t.installEditPolicy(new G.policy.canvas.WheelZoomPolicy),c=new G.shape.basic.Text({text:"Use the mouse wheel + SHIFT to zoom"}),t.add(c,400,300),t.on("select",(function(e,t){null!==t.figure?console.log("figure selected"):console.log("selection cleared")})),H()("#mycanvasdraw2d").click((function(e){console.log("Mouse click:"+e.clientX+","+e.clientY)})),(new G.io.json.Writer).marshal(t,(function(e){return console.log(e)}));var h=new(function(e){function t(e){var n;return Object(O.a)(this,t),(n=Object(E.a)(this,Object(j.a)(t).call(this,e))).index=0,n.svgs=[],n.svgs.push('<svg xmlns="http://www.w3.org/2000/svg">  <path stroke="#000" fill="#FFF" stroke-miterlimit="4" d="m0,49.842l0,-49.742l49.982,0l0,49.742l-49.982,0z" id="polygon3873"/>  <text text-anchor="middle" fill="#000000" font-family="Sans-serif" x="24.81563" y="26.50938" xml:space="preserve" font-size="8px" id="svg_1">Click me</text></svg>'),n.svgs.push('<svg xmlns="http://www.w3.org/2000/svg" version="1.1"><rect x="14" y="23" width="20" height="20" fill="lime" stroke="black" /></svg>'),n.on("click",(function(){this.index=++this.index%this.svgs.length,this.setSVG(this.svgs[this.index],500)}),Object($.a)(n)),n}return Object(N.a)(t,e),Object(w.a)(t,[{key:"getSVG",value:function(){return this.svgs[0]}}]),t}(G.SVGFigure));t.add(h,100,100)}},{key:"render",value:function(){return a.a.createElement("div",{id:"mycanvasdraw2d"})}}]),t}(a.a.Component),F=(a.a.Component,n(106),n(86)),R=n(70),U=n.n(R),B=(n(107),n(108),n(49)),z=n(71),J={width:400,margin:50},V=z.a.Handle,Z=function(e){var t=e.value,n=e.dragging,o=e.index,r=Object(F.a)(e,["value","dragging","index"]);return a.a.createElement(B.a,{prefixCls:"rc-slider-tooltip",overlay:t,visible:n,placement:"top",key:o},a.a.createElement(V,Object.assign({value:t},r)))},X=Object(i.b)()((function(e){return e.showControls?a.a.createElement("div",{className:"topbar"},a.a.createElement("div",{className:"zoom",style:J},a.a.createElement(z.a,{min:20,max:150,value:e.scale,handle:Z,onChange:e.onChange})),a.a.createElement(U.a,{label:"Save state to disk",className:"savestate",tagName:"h2",filename:"state.txt",exportFile:function(){return JSON.stringify(e.state,null,2)}},a.a.createElement("h1",null,"Save sta2te to disk"))):a.a.createElement("div",{className:"topbar"},a.a.createElement(U.a,{label:"Save state to disk",className:"savestate",tagName:"h2",filename:"state.txt",exportFile:function(){return JSON.stringify(e.state,null,2)}},a.a.createElement("h1",null,"Save state to disk")))})),Y=function(e){function t(){return Object(O.a)(this,t),Object(E.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement("button",{onClick:this.props.toggleGraphicsLibrary},a.a.createElement("h2",null,"Toggle graphics library (Pure HTML / Draw2D)")),a.a.createElement(X,{className:"topbar",showControls:this.props.state.pureHTMLgraph,scale:100*this.props.state.scale,state:this.props.state,onChange:this.props.onZoomChange}),this.props.state.pureHTMLgraph?a.a.createElement(M,null):a.a.createElement(A,{className:"graphicsarea"}))}}]),t}(a.a.Component),Q=Object(i.b)((function(e){return{state:e}}),(function(e){return{onZoomChange:function(t){return e({type:h,percent:t})},toggleGraphicsLibrary:function(){return e({type:f})}}}))(Y);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var q=n(90),K=Object(c.createStore)((function(){var e,t,n,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){var e=Object(p.a)(Array(202).keys()),t=e.map((function(t){return{title:"1D transformation",id:1e3+t,position:{x:0+500*Math.cos(6.28/e.length*t),y:400+500*Math.sin(6.28/e.length*t)},inputPorts:[{name:"in x",type:"int"},{name:"in y",type:"int"}],outputPorts:[{name:"out x",type:"float"},{name:"out y",type:"float"}]}})),n=e.filter((function(e){return e%2===0})).map((function(t){return{from:{nodeIndex:(t+e.length/2+2)%e.length,index:0},to:{nodeIndex:t,index:0}}}));return{pureHTMLgraph:!0,scale:.4,activeDrags:0,deltaPosition:{x:0,y:0},nodes:Object(p.a)(t),connections:Object(p.a)(n),textNode:{x:-500,y:-350,width:200,height:400,text:"Over hill, over dale, Thorough bush, thorough brier, Over park,\n            over pale, Thorough flood, thorough fire! I do wander everywhere,\n            Swifter than the moon's sphere; And I serve the Fairy Queen, To\n            dew her orbs upon the green; The cowslips tall her pensioners be;\n            In their gold coats spots you see; Those be rubies, fairy favours;\n            In those freckles live their savours; I must go seek some dewdrops\n            here, And hang a pearl in every cowslip's ear."},imgNode:{x:50,y:-350,width:400,height:300,url:"http://minerva-central.net/images/minerva-forward-m1.png"}}}(),a=arguments.length>1?arguments[1]:void 0;switch(a.type){case h:e=u()(o,{scale:{$set:a.percent/100}});break;case m:t=a.position.x-o.nodes[a.index].position.x,n=a.position.y-o.nodes[a.index].position.y,e=u()(o,{nodes:Object(l.a)({},a.index,{position:{x:{$set:a.position.x},y:{$set:a.position.y}}})});break;case g:t=a.position.x-o.nodes[a.index].position.x,n=a.position.y-o.nodes[a.index].position.y;var r={};o.nodes.map((function(e,a){return a%2===0&&(r[a]={position:{x:{$set:o.nodes[a].position.x+t},y:{$set:o.nodes[a].position.y+n}}}),null})),e=u()(o,{nodes:x(Object(l.a)({},a.index,{position:{x:{$set:a.position.x},y:{$set:a.position.y}}}),r)});break;case v:e=u()(o,{textNode:{x:{$set:a.position.x},y:{$set:a.position.y}}});break;case y:e=u()(o,{imgNode:{x:{$set:a.position.x},y:{$set:a.position.y}}});break;case f:var s=!o.pureHTMLgraph;e=u()(o,{pureHTMLgraph:{$set:s}});break;default:console.log("default ",o),e=o}return e}),Object(q.composeWithDevTools)());s.a.render(a.a.createElement(i.a,{store:K},a.a.createElement(Q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},91:function(e,t,n){e.exports=n(162)}},[[91,1,2]]]);
//# sourceMappingURL=main.c3348670.chunk.js.map