(this["webpackJsonpps-react-test"]=this["webpackJsonpps-react-test"]||[]).push([[0],{101:function(e,t,n){},102:function(e,t,n){},103:function(e,t,n){},104:function(e,t,n){},163:function(e,t,n){"use strict";n.r(t);var o=n(1),a=n.n(o),r=n(7),i=n.n(r),s=n(26),c=n(39),l=n(30),d=n(51);function p(e){return e?function(){var e=Object(d.a)(Array(202).keys()),t=e.map((function(t){return{title:"Add",id:1e3+t,position:{x:600+500*Math.cos(6.28/e.length*t),y:600+500*Math.sin(6.28/e.length*t)},width:120,isSelected:!1,inputPorts:[{name:"x",type:"int"},{name:"y",type:"int"}],outputPorts:[{name:"sum",type:"int"}]}})),n=e.filter((function(e){return e%2===0})).map((function(t){return{isSelected:!1,from:{nodeIndex:(t+e.length/2+2)%e.length,index:0},to:{nodeIndex:t,index:0}}}));return{pureHTMLgraph:!0,scale:.4,stressTest:!0,activeDrags:0,deltaPosition:{x:0,y:0},nodeTemplates:[{title:"Add",id:213,position:{x:186,y:7},isSelected:!1,width:120,inputPorts:[{name:"x",type:"int"},{name:"y",type:"int"}],outputPorts:[{name:"sum",type:"int"}]},{title:"Mult",id:213,position:{x:186,y:7},isSelected:!1,width:120,inputPorts:[{name:"x",type:"int"},{name:"y",type:"int"}],outputPorts:[{name:"sum",type:"int"}]},{title:"Sub",id:213,position:{x:186,y:7},isSelected:!1,width:120,inputPorts:[{name:"x",type:"int"},{name:"y",type:"int"}],outputPorts:[{name:"sum",type:"int"}]},{title:"Div",id:213,position:{x:186,y:7},isSelected:!1,width:120,inputPorts:[{name:"x",type:"int"},{name:"y",type:"int"}],outputPorts:[{name:"sum",type:"int"}]}],nodes:Object(d.a)(t),connections:Object(d.a)(n),textNode:{x:-500,y:-350,width:200,height:400,text:"Over hill, over dale, Thorough bush, thorough brier, Over park,\n            over pale, Thorough flood, thorough fire! I do wander everywhere,\n            Swifter than the moon's sphere; And I serve the Fairy Queen, To\n            dew her orbs upon the green; The cowslips tall her pensioners be;\n            In their gold coats spots you see; Those be rubies, fairy favours;\n            In those freckles live their savours; I must go seek some dewdrops\n            here, And hang a pearl in every cowslip's ear."},imgNode:{x:50,y:-350,width:400,height:300,url:"http://minerva-central.net/images/minerva-forward-m1.png"}}}():{pureHTMLgraph:!0,stressTest:!1,scale:.9,activeDrags:0,deltaPosition:{x:0,y:0},nodeTemplates:[{title:"Add",id:213,position:{x:186,y:7},isSelected:!1,width:120,inputPorts:[{name:"x",type:"int"},{name:"y",type:"int"}],outputPorts:[{name:"sum",type:"int"}]},{title:"Mult",id:213,position:{x:186,y:7},isSelected:!1,width:120,inputPorts:[{name:"x",type:"int"},{name:"y",type:"int"}],outputPorts:[{name:"sum",type:"int"}]},{title:"Sub",id:213,position:{x:186,y:7},isSelected:!1,width:120,inputPorts:[{name:"x",type:"int"},{name:"y",type:"int"}],outputPorts:[{name:"sum",type:"int"}]},{title:"Div",id:213,position:{x:186,y:7},isSelected:!1,width:120,inputPorts:[{name:"x",type:"int"},{name:"y",type:"int"}],outputPorts:[{name:"sum",type:"int"}]}],nodes:[{title:"Add",id:213,position:{x:186,y:7},isSelected:!1,width:120,inputPorts:[{name:"x",type:"int"},{name:"y",type:"int"}],outputPorts:[{name:"sum",type:"int"}]},{title:"Add",id:214,position:{x:421,y:123},isSelected:!1,width:120,inputPorts:[{name:"x",type:"int"},{name:"y",type:"int"}],outputPorts:[{name:"sum",type:"int"}]},{title:"Add",id:215,position:{x:85,y:200},isSelected:!1,width:80,inputPorts:[{name:"x",type:"int"},{name:"y",type:"int"}],outputPorts:[{name:"sum",type:"int"}]},{title:"Add",id:216,position:{x:86,y:106},isSelected:!1,width:140,inputPorts:[{name:"x",type:"int"},{name:"y",type:"int"}],outputPorts:[{name:"sum",type:"int"}]},{title:"Add",id:217,position:{x:421,y:7},isSelected:!1,width:140,inputPorts:[{name:"x",type:"int"},{name:"y",type:"int"}],outputPorts:[{name:"sum",type:"int"}]},{title:"Add",id:217,position:{x:421,y:250},isSelected:!1,width:140,inputPorts:[{name:"x",type:"int"},{name:"y",type:"int"}],outputPorts:[{name:"sum",type:"int"}]}],connections:[{isSelected:!1,from:{nodeIndex:0,index:0},to:{nodeIndex:1,index:0}},{isSelected:!1,from:{nodeIndex:3,index:0},to:{nodeIndex:1,index:0}}],textNode:{x:500,y:350,width:200,height:400,text:"Over hill, over dale, Thorough bush, thorough brier, Over park,\n            over pale, Thorough flood, thorough fire! I do wander everywhere,\n            Swifter than the moon's sphere; And I serve the Fairy Queen, To\n            dew her orbs upon the green; The cowslips tall her pensioners be;\n            In their gold coats spots you see; Those be rubies, fairy favours;\n            In those freckles live their savours; I must go seek some dewdrops\n            here, And hang a pearl in every cowslip's ear."},imgNode:{x:50,y:350,width:400,height:300,url:"http://minerva-central.net/images/minerva-forward-m1.png"}}}var u=n(8),m=n.n(u),h="CHANGE_ZOOM",y="POSITION_NODE",x="CREATE_NODE",f="POSITION_EVERY_OTHER_NODE",g="POSITION_TEXT_NODE",v="POSITION_IMG_NODE",E="TOGGLE_GRAPHICS",b="RESET_NORMAL",w="RESET_STRESS_TEST",O="CONNECT_PORTS",S="DELETE_SELECTED",I="SELECT_NODE",N="SELECT_CONNECTION",C="SELECT_CLEAR";function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(101);var P=n(13),D=n(14),j=n(16),A=n(15),_=n(17);n(102),n(103);function L(e){return a.a.createElement(a.a.Fragment,null,e.templates.map((function(e,t){return a.a.createElement("div",{className:"nodelistitem",draggable:!0,onDragStart:function(e){var n=JSON.stringify({type:"CREATE_NODE",templateIndex:t});console.log("drag start",n),e.dataTransfer.setData("text/plain",n)}},e.title)})))}var $=function(e){function t(){return Object(P.a)(this,t),Object(j.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(D.a)(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.isSelected,o=t.connectionIndex,a=t.curveColor,r=t.curveWidth,i=t.start,s=t.end,c=t.c1,l=t.c2;return e.connectionIndex!==o||e.isSelected!==n||e.curveColor!==a||e.curveWidth!==r||e.start.x!==i.x||e.start.y!==i.y||e.end.x!==s.x||e.end.y!==s.y||e.c1.x!==c.x||e.c1.y!==c.y||e.c2.x!==l.x||e.c2.y!==l.y}},{key:"render",value:function(){var e=this.props,t=e.isSelected,n=e.connectionIndex,o=e.curveColor,r=e.curveWidth,i=e.start,s=e.end,c=e.c1,l=e.c2,d=e.onSelectConnection,p="M".concat(i.x,",").concat(i.y," C").concat(c.x,",").concat(c.y," ").concat(l.x,",").concat(l.y," ").concat(s.x,",").concat(s.y);return a.a.createElement("path",{onMouseDown:function(e){e.stopPropagation(),console.log("BezierCurve click"),d(n)},fill:"none",stroke:o,strokeDasharray:t?4:0,strokeWidth:r,d:p})}}]),t}(a.a.Component),R=n(46),M=n.n(R),W=function(e){return a.a.createElement(M.a,{key:e.key,scale:e.scale,position:e.position,onDrag:e.onDrag},a.a.createElement("div",{className:"box no-cursor"},a.a.createElement("svg",{className:"graphics inport"},a.a.createElement("circle",{className:"circle",xmlns:"http://www.w3.org/2000/svg",cx:"15",cy:"15",r:"15",style:{stroke:"#000000",strokeWidth:3,fill:"#66ff66"},opacity:".7"})),a.a.createElement("div",{className:"drag"},e.title),a.a.createElement("h3",null),a.a.createElement("svg",{className:"graphics outport",width:"30",height:"30"},a.a.createElement("circle",{className:"circle",xmlns:"http://www.w3.org/2000/svg",cx:"15",cy:"15",r:"15",style:{stroke:"#000000",strokeWidth:3,fill:"#ff0000"},opacity:".7"}))))},H=(n(104),16),B=15;function F(e){var t=e.name,n=e.nodeIndex,o=e.portIndex,r=e.onConnect;return a.a.createElement("div",{className:"port_area in"},a.a.createElement("div",{className:"port noselect",draggable:!0,onDrop:function(e){if(null!==e.dataTransfer){var t=e.dataTransfer.getData("text");if(null!==t&&""!==t){var a=JSON.parse(t);null!==a&&""!==a&&(console.log("payLoad",a),"CONNECT"===a.type?(console.log("connect node ".concat(a.nodeIndex,":").concat(a.outPortIndex," and node ").concat(n,":").concat(o)),r(a.nodeIndex,a.outPortIndex,n,o)):console.log("invalid drop"),e.preventDefault())}}},onDragOver:function(e){e.preventDefault()}},"\u2192"),a.a.createElement("header",{className:"porttext in noselect"},t),a.a.createElement("div",{className:"noport noselect"}))}var G=function(){var e=new Image;return e.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",e}();function J(e){var t=e.name,n=e.nodeIndex,o=e.portIndex;return a.a.createElement("div",{className:"port_area out"},a.a.createElement("div",{className:"noport noselect"}),a.a.createElement("header",{className:"porttext out noselect"},t),a.a.createElement("div",{className:"port noselect",draggable:!0,onDragStart:function(e){var t=JSON.stringify({type:"CONNECT",nodeIndex:n,outPortIndex:o});console.log("drag start",t),e.dataTransfer.setData("text/plain",t),e.dataTransfer.setDragImage(G,0,0),e.dataTransfer.dropEffect="none"},onDrag:function(e){console.log("onDrag")}},"\u2192"))}function z(e,t){return{x:B/2,y:H+H*t+H/2}}function Q(e,t){return{x:e.width-B/2,y:H+e.inputPorts.length*H+t*H+H/2}}var U=function(e){function t(){return Object(P.a)(this,t),Object(j.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(D.a)(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.nodeIndex,o=t.scale,a=t.position,r=t.width,i=t.isSelected;return e.nodeIndex!==n||e.scale!==o||e.position.x!==a.x||e.position.y!==a.y||e.width!==r||e.isSelected!==i}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.nodeIndex,o=e.scale,r=e.position,i=e.onConnect,s=e.onDrag,c=e.width,l=e.isSelected,d=e.onSelectNode,p="node noselect"+(!0===l?" nodeselected":"");return a.a.createElement(M.a,{scale:o,position:r,onDrag:s,handle:"header",onMouseDown:function(e){e.stopPropagation(),console.log("node clicked"),d(n)}},a.a.createElement("div",{className:p,style:{height:"60px",width:"".concat(c,"px")}},a.a.createElement("div",{className:"main_area"},a.a.createElement("div",{className:"addin noselect"},"+"),a.a.createElement("header",{className:"nodetext noselect"},t),a.a.createElement("div",{className:"addout noselect"},"+")),a.a.createElement(F,{name:"x",nodeIndex:n,portIndex:0,onConnect:i}),a.a.createElement(F,{name:"y",nodeIndex:n,portIndex:1,onConnect:i}),a.a.createElement(J,{name:"sum",nodeIndex:n,portIndex:0})))}}]),t}(a.a.Component),V=function(e){function t(){return Object(P.a)(this,t),Object(j.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"nodearea bgpattern",onMouseDown:function(t){console.log("graphicsarea clicked"),e.props.onSelectClear()},onDragOver:function(e){e.preventDefault()},onDrop:function(t){if(null!=t.dataTransfer){var n=t.dataTransfer.getData("text");if(console.log("textData",n),null!=n&&""!==n){var o=JSON.parse(n);console.log("dropped on nodearea",t,t.clientX,t.clientY),"CREATE_NODE"===o.type&&e.props.onCreateNode(t.clientX,t.clientY,o.templateIndex)}}}},a.a.createElement("div",{className:"graphicsarea",style:{transform:"scale("+this.props.scale+")"}},a.a.createElement("svg",{className:"arrowsvg",style:{position:"relative",top:"0px",left:"0px"}},this.props.connections.map((function(t,n){var o=e.props.nodes[t.from.nodeIndex],r=e.props.nodes[t.to.nodeIndex],i=o.position.x+Q(o,t.from.index).x,s=o.position.y+Q(o,t.from.index).y,c=r.position.x+z(0,t.to.index).x,l=r.position.y+z(0,t.to.index).y;return a.a.createElement($,{key:n,isSelected:t.isSelected,connectionIndex:n,onSelectConnection:e.props.onSelectConnection,start:{x:i,y:s},end:{x:c,y:l},c1:{x:i+3*o.width/4,y:s},c2:{x:c-3*r.width/4,y:l},curveColor:"black",curveWidth:3})}))),this.props.nodes.map((function(t,n){return t.htmlNode?a.a.createElement(W,{title:t.title,key:n,scale:e.props.scale,position:t.position,onDrag:function(t,o){e.props.onSetPosition(n,o,!1)}}):a.a.createElement(U,{title:t.title,key:n,nodeIndex:n,scale:e.props.scale,position:t.position,width:t.width,isSelected:t.isSelected,onDrag:function(t,o){e.props.onSetPosition(n,o,e.props.stressTest)},onConnect:e.props.onConnect,onSelectNode:e.props.onSelectNode})}))))}}]),t}(a.a.Component),X=Object(s.b)((function(e){return{nodes:e.nodes,connections:e.connections,scale:e.scale,textNode:e.textNode,imgNode:e.imgNode,stressTest:e.stressTest}}),(function(e){return{onSetPosition:function(t,n,o){e(o?function(e,t){return{type:f,index:e,position:t}}(t,n):function(e,t){return{type:y,index:e,position:t}}(t,n))},onSetTextNodePosition:function(t){return e(function(e){return{type:g,position:e}}(t))},onSetImgNodePosition:function(t){return e(function(e){return{type:v,position:e}}(t))},onConnect:function(t,n,o,a){console.log("onConnected"),e(function(e,t,n,o){return{type:O,fromNodeIndex:e,fromPortIndex:t,toNodeIndex:n,toPortIndex:o}}(t,n,o,a))},onSelectNode:function(t){return e(function(e){return{type:I,nodeIndex:e}}(t))},onSelectConnection:function(t){return e(function(e){return{type:N,connectionIndex:e}}(t))},onSelectClear:function(){return e({type:C})},onCreateNode:function(t,n,o){return e(function(e,t,n){return{type:x,x:e,y:t,index:n}}(t,n,o))}}}))(V),Y=n(45),Z=n(47),q=n.n(Z);window.jQuery=window.$=q.a,n(105);var K=n(106),ee=function(e){function t(){return Object(P.a)(this,t),Object(j.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){this.renderCanvas("mycanvasdraw2d")}},{key:"renderCanvas",value:function(e){var t=new K.Canvas(e),n=new K.shape.node.Start,o=new K.shape.node.End;t.add(n,50,50),t.add(new K.shape.node.Start,50,250),t.add(o,230,150);var a=new K.Connection;a.setRouter(new K.layout.connection.SplineConnectionRouter),a.setSourceDecorator(new K.decoration.connection.BarDecorator),a.setTargetDecorator(new K.decoration.connection.DiamondDecorator),a.setSource(n.getOutputPort(0)),a.setTarget(o.getInputPort(0)),t.add(a);var r=new K.shape.analog.OpAmp;t.add(r,350,110);var i=new K.shape.basic.Polygon,s=new K.shape.basic.Polygon;t.add(i,450,150),t.add(s,450,200),s.setBackgroundColor("#f0f000"),s.setAlpha(.7),s.setDimension(100,60),t.setCurrentSelection(s);var c=new K.shape.basic.Text;c.setText("This is a simple text with some loooooong word in."),c.setBackgroundColor("#f0f000"),t.add(c,550,10);var l=new K.shape.basic.Label;l.setText("This is a label."),l.setBackgroundColor("#f0f000"),t.add(l,350,70);var d=new K.shape.diagram.Pie(80,80);d.setWidth(100),d.setData([30,60,122,4]),t.add(d,600,160);var p=new K.shape.note.PostIt;p.installEditor(new K.ui.LabelInplaceEditor),p.setColor("#000000"),p.setPadding(20),p.setText("This is simple sticky note\nDouble click to edit."),t.add(p,700,10);var u=new K.shape.basic.Label;u.installEditor(new K.ui.LabelInplaceEditor),u.setText("Double click me to edit"),t.add(u,50,10),K.Connection.createConnection=function(e,t){var n=new K.Connection;return n.setRouter(new K.layout.connection.FanConnectionRouter),n},n=new K.shape.node.Start,o=new K.shape.node.End,t.add(n,50,250),t.add(o,230,280),(a=K.Connection.createConnection()).setSource(n.getOutputPort(0)),a.setTarget(o.getInputPort(0)),t.add(a),(a=K.Connection.createConnection()).setSource(n.getOutputPort(0)),a.setTarget(o.getInputPort(0)),t.add(a),(a=K.Connection.createConnection()).setSource(n.getOutputPort(0)),a.setTarget(o.getInputPort(0)),t.add(a),(a=K.Connection.createConnection()).setSource(n.getOutputPort(0)),a.setTarget(o.getInputPort(0)),t.add(a),t.installEditPolicy(new K.policy.canvas.WheelZoomPolicy),c=new K.shape.basic.Text({text:"Use the mouse wheel + SHIFT to zoom"}),t.add(c,400,300),t.on("select",(function(e,t){null!==t.figure?console.log("figure selected"):console.log("selection cleared")})),q()("#mycanvasdraw2d").click((function(e){console.log("Mouse click:"+e.clientX+","+e.clientY)})),(new K.io.json.Writer).marshal(t,(function(e){return console.log(e)}));var m=new(function(e){function t(e){var n;return Object(P.a)(this,t),(n=Object(j.a)(this,Object(A.a)(t).call(this,e))).index=0,n.svgs=[],n.svgs.push('<svg xmlns="http://www.w3.org/2000/svg">  <path stroke="#000" fill="#FFF" stroke-miterlimit="4" d="m0,49.842l0,-49.742l49.982,0l0,49.742l-49.982,0z" id="polygon3873"/>  <text text-anchor="middle" fill="#000000" font-family="Sans-serif" x="24.81563" y="26.50938" xml:space="preserve" font-size="8px" id="svg_1">Click me</text></svg>'),n.svgs.push('<svg xmlns="http://www.w3.org/2000/svg" version="1.1"><rect x="14" y="23" width="20" height="20" fill="lime" stroke="black" /></svg>'),n.on("click",(function(){this.index=++this.index%this.svgs.length,this.setSVG(this.svgs[this.index],500)}),Object(Y.a)(n)),n}return Object(_.a)(t,e),Object(D.a)(t,[{key:"getSVG",value:function(){return this.svgs[0]}}]),t}(K.SVGFigure));t.add(m,100,100)}},{key:"render",value:function(){return a.a.createElement("div",{id:"mycanvasdraw2d"})}}]),t}(a.a.Component),te=(a.a.Component,n(107),n(86)),ne=n(70),oe=n.n(ne),ae=(n(108),n(109),n(49)),re=n(71),ie={width:400,margin:50},se=re.a.Handle,ce=function(e){var t=e.value,n=e.dragging,o=e.index,r=Object(te.a)(e,["value","dragging","index"]);return a.a.createElement(ae.a,{prefixCls:"rc-slider-tooltip",overlay:t,visible:n,placement:"top",key:o},a.a.createElement(se,Object.assign({value:t},r)))},le=Object(s.b)()((function(e){return e.showControls?a.a.createElement("div",{className:"topbar"},a.a.createElement("div",{className:"zoom",style:ie},a.a.createElement(re.a,{min:20,max:150,value:e.scale,handle:ce,onChange:e.onChange})),a.a.createElement(oe.a,{label:"Save state to disk",className:"savestate",tagName:"h2",filename:"state.txt",exportFile:function(){return JSON.stringify(e.state,null,2)}},a.a.createElement("h1",null,"Save sta2te to disk"))):a.a.createElement("div",{className:"topbar"},a.a.createElement(oe.a,{label:"Save state to disk",className:"savestate",tagName:"h2",filename:"state.txt",exportFile:function(){return JSON.stringify(e.state,null,2)}},a.a.createElement("h1",null,"Save state to disk")))})),de=function(e){function t(){return Object(P.a)(this,t),Object(j.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.body.addEventListener("keydown",(function(t){console.log("key down ",t,e),"Backspace"===t.key&&e.props.deleteSelected()}))}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return a.a.createElement("div",{className:"App noselect"},a.a.createElement("div",{style:{display:"flex",justifyContent:"space-around"}},a.a.createElement("button",{onClick:this.props.resetStateNormal},a.a.createElement("h2",null,"Reset state to some nodes")),a.a.createElement("button",{onClick:this.props.resetStateStressTest},a.a.createElement("h2",null,"Reset state to stress test")),a.a.createElement("button",{onClick:this.props.toggleGraphicsLibrary},a.a.createElement("h2",null,"Toggle graphics library (Pure HTML / Draw2D)"))),a.a.createElement(le,{className:"topbar",showControls:this.props.state.pureHTMLgraph,scale:100*this.props.state.scale,state:this.props.state,onChange:this.props.onZoomChange}),a.a.createElement("div",{className:"editor"},a.a.createElement("div",{className:"nodelist"},a.a.createElement(L,{templates:this.props.state.nodeTemplates})),this.props.state.pureHTMLgraph?a.a.createElement(X,null):a.a.createElement(ee,null)))}}]),t}(a.a.Component),pe=Object(s.b)((function(e){return{state:e}}),(function(e){return{deleteSelected:function(){return e({type:S})},onZoomChange:function(t){return e({type:h,percent:t})},toggleGraphicsLibrary:function(){return e({type:E})},resetStateNormal:function(){return e({type:b})},resetStateStressTest:function(){return e({type:w})}}}))(de);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ue=n(90),me=Object(c.createStore)((function(){var e,t,n,o,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p(!1),r=arguments.length>1?arguments[1]:void 0;switch(r.type){case h:e=m()(a,{scale:{$set:r.percent/100}});break;case S:var i,s,c,d;for(console.log("DELETE_SELECTED"),e=a,c=!0;c;)for(c=!1,i=0;i<e.nodes.length;i++)if(e.nodes[i].isSelected){for(e=m()(e,{nodes:{$splice:[[i,1]]}}),d=!0;d;)for(d=!1,s=0;s<e.connections.length;s++)if(e.connections[s].from.nodeIndex===i||e.connections[s].to.nodeIndex===i){e=m()(e,{connections:{$splice:[[s,1]]}}),d=!0;break}o={},e.connections.map((function(e,t){return o[t]={to:{nodeIndex:{$set:e.to.nodeIndex>i?e.to.nodeIndex-1:e.to.nodeIndex}},from:{nodeIndex:{$set:e.from.nodeIndex>i?e.from.nodeIndex-1:e.from.nodeIndex}}},null})),e=m()(e,{connections:k({},o)}),c=!0;break}for(c=!0;c;)for(c=!1,i=0;i<e.connections.length;i++)if(e.connections[i].isSelected){e=m()(e,{connections:{$splice:[[i,1]]}}),c=!0;break}break;case I:console.log("SELECT_NODE",r.nodeIndex,a),e=m()(a,{nodes:Object(l.a)({},r.nodeIndex,{isSelected:{$set:!0}})});break;case x:console.log("CREATE_NODE",r.x,r.y,r),e=m()(a,{nodes:{$push:[a.nodeTemplates[r.index]]}}),e=m()(e,{nodes:Object(l.a)({},e.nodes.length-1,{position:{x:{$set:r.x},y:{$set:r.y}}})}),console.log("state after ",e);break;case N:console.log("SELECT_CONNECTION",r.connectionIndex),e=m()(a,{connections:Object(l.a)({},r.connectionIndex,{isSelected:{$set:!0}})});break;case C:console.log("SELECT_CLEAR"),o={},a.nodes.map((function(e,t){return o[t]={isSelected:{$set:!1}},null})),e=m()(a,{nodes:k({},o)}),o={},a.connections.map((function(e,t){return o[t]={isSelected:{$set:!1}},null})),e=m()(e,{connections:k({},o)});break;case y:t=r.position.x-a.nodes[r.index].position.x,n=r.position.y-a.nodes[r.index].position.y,e=m()(a,{nodes:Object(l.a)({},r.index,{position:{x:{$set:r.position.x},y:{$set:r.position.y}}})});break;case f:t=r.position.x-a.nodes[r.index].position.x,n=r.position.y-a.nodes[r.index].position.y,o={},a.nodes.map((function(e,r){return r%2===0&&(o[r]={position:{x:{$set:a.nodes[r].position.x+t},y:{$set:a.nodes[r].position.y+n}}}),null})),e=m()(a,{nodes:k(Object(l.a)({},r.index,{position:{x:{$set:r.position.x},y:{$set:r.position.y}}}),o)});break;case g:e=m()(a,{textNode:{x:{$set:r.position.x},y:{$set:r.position.y}}});break;case v:e=m()(a,{imgNode:{x:{$set:r.position.x},y:{$set:r.position.y}}});break;case E:var u=!a.pureHTMLgraph;e=m()(a,{pureHTMLgraph:{$set:u}});break;case b:e=p(!1);break;case w:e=p(!0);break;case O:console.log("CONNECT_PORTS reducer"),e=m()(a,{connections:{$push:[{isSelected:!1,from:{nodeIndex:r.fromNodeIndex,index:r.fromPortIndex},to:{nodeIndex:r.toNodeIndex,index:r.toPortIndex}}]}});break;default:console.log("default ",a),e=a}return e}),Object(ue.composeWithDevTools)());i.a.render(a.a.createElement(s.a,{store:me},a.a.createElement(pe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},91:function(e,t,n){e.exports=n(163)}},[[91,1,2]]]);
//# sourceMappingURL=main.40d1c1f1.chunk.js.map